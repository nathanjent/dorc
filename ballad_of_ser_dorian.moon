-- title:  Ballad of Ser Dorian
-- author: GR8N8
-- desc:   I ported a song by Ben Reber
-- script: moon
-- song-url: https://soundcloud.com/user-411047148/ser-dorian

music(0)
t=0
x=0

remap=(tile,x,y)->
	frames=3
	speed=.03
	outtile=tile
	if tile >= 1 and tile < 4
		outtile+=math.floor(t*speed)%frames
	if outtile > frames
		outtile-=frames
	return outtile

export TIC=->
	x=x-t/50000
	if x<-200
		x=0
	cls 15
	map 0,0,60,17,x,0,0,1,remap
	map 0,18,30,6,0,90,0
	spr 128,150,50,0,2,0,0,5,8
	rect 60,16,116,20,15
	rectb 60,16,116,20,13
	print "Ballad of Ser Dorian",64,20,4
	print "by Ben Reber",105,28,10
	t+=1

-- <TILES>
-- 001:eeeeee99eeeeeeeeeeeeeeee9999eeeeeeee9999eeeeeeeeeeeeeeee999999ee
-- 002:eeeeeeee9999eeeeeeee9999eeeeeeeeeeeeeeee99eeeeeeee999999eeeeeeee
-- 003:eeeeeeeeeeeeeeee999eeeeeeee99999eeeeeeeeeeeeeeee99eeeeeeee999999
-- 013:00000000e0eee00eee0eeeeeeeeeeeeeeeeeeeeeeeeeeeeeedddddfefdddfddd
-- 014:000000000000000eeee0e00eeeeeeeeeeeeeeeeeeeeeeeeeefeeeeedfdfddddf
-- 015:0333333033444433344334433344443333333332323232323232323232323233
-- 029:dffdfddffddfddfddfddddddddddfddfdfdfddfdddfdddddfddddfdddddddddf
-- 030:dddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddddd
-- 031:3233323233233232332333333233333232333232323232323232323333323323
-- 047:3332332332323323323333322333233223332332323322323232323303323330
-- 129:0000000000000000000066660000066700000067000000070000000700000007
-- 130:00222222072662667666666266666666226666666626622269d62666666669d6
-- 131:2000000022200000262200006622000062666660666556006655600066600000
-- 132:0000000000000000000000000000000000000000000000000000000000ff0000
-- 144:0000000000000000000000000000000000000000000000060000006600007666
-- 145:0000007600000076000002770006612706666612666666616666666266666622
-- 146:6c6666666111c666666111667666666677666667277777712211111111122222
-- 147:6760ff00670ffff067000fff77000dff7100dedf111deddd12332dd023323200
-- 148:041fd0004144f00014400000f4000000f1000000ffd000000ff000000ff00000
-- 160:0007666600766666007766670007666600077666000077660000077600000077
-- 161:6676622167766222777676260276677762766666623666666723666677622222
-- 162:1126666611226663612266337226632277773266663226663226666726666677
-- 163:3322670032666670266666676766666677766666707776667007776600066666
-- 164:0000000000000000000000006000000066000000660000006600000067000000
-- 176:0000000700000000000000000000000000000000000000080000000800000008
-- 177:7666666676666666766667767666766686666666886666662888666688288888
-- 178:6666667766666776666667766666676666666776666667776666888088889880
-- 179:6666666666666667666667706677700077700000700000000000000000000000
-- 180:7000000000000000000000000000000000000000000000000000000000000000
-- 192:0000000800000088000000880000008800000088000000880000008800000088
-- 193:8222288882888288888982888888888888898888888888888888988888888888
-- 194:2882898088888880888888808888898088888880888898808888888088888800
-- 208:0000008800000088000000880000000800000008000000080000000800000008
-- 209:8888808888889088888880088888900888888808888898088888880088888600
-- 210:8888980088888800888888008888980088888880888889888888888888888668
-- 224:0000000700000007000000070000000000000000000000020000002300000002
-- 225:7666660066666600766660006666600076666700776667003777732033333320
-- 226:7666666076666666076666660767666600766667007766730022773300233333
-- 227:0000000000000000000000000000000030000000330000003300000032000000
-- 240:0000000200000000000000000000000000000000000000020000022300000233
-- 241:3333332022333220333332003333220023333200233332003333332033333320
-- 242:0003333300023322000023330000223300000222000002230000233300003333
-- 243:2200000022000000322000003320000033330000333300003333000033300000
-- </TILES>

-- <MAP>
-- 000:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 001:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 002:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 003:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 004:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 005:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 006:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 007:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 008:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 009:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 010:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 011:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 012:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 013:101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 014:101010101010101010101010101010101010101010101010101010101010201010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 015:101010101010101010101010101010101010101010101010101010101010201010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 016:101010101010101010101010101010101010101010101010101010101010201010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 019:d0e0d0e0d0d0d0e0d0e0d0d0d0e0e0e0d0d0d0d0e0d0e0e0d0d0e0d0d0d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 020:d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1d1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 021:e1e1e1d1e1e1e1e1e1e1e1d1e1e1e1e1e1e1e1e1d1e1e1d1d1e1e1e1e1e1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 022:e1e1e1e1e1d1d1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 023:e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1e1d1e1e1e1d1e1e1e1e1e1e1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 024:d1e1e1d1e1e1e1e1e1d1d1d1e1e1e1e1e1e1d1e1e1d1e1e1e1e1e1e1d1d1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </MAP>

-- <WAVES>
-- 000:00000000ffffffff00000000ffffffff
-- 001:0123456789abcdeffedcba9876543210
-- 002:0123456789abcdef0123456789abcdef
-- 003:04689abccddeeffffffeeddccba98640
-- 004:fab0e0074a3a918ca5000a500e04e05a
-- </WAVES>

-- <SFX>
-- 000:430043004300430043004300430043004300430043004300430043004300430043004300430043004300430043004300430043004300430043004300000000000000
-- 001:330033003300330033003300330033003300330033003300330033003300430043005300530063006300730083009300a300b300c300d300e300f30020b000000000
-- 002:000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000
-- 003:d30073000300030003000300130013001300130023002300230023002300330033003300330033004300430043004300430053005300530053005300001000000000
-- 012:340034003400340034003400440044005400540064006400740074008400840094009400a400a400b400b400c400c400d400d400e400e400f400f400000000000000
-- 013:740074007400840084008400940094009400a400a400a400b400b400b400c400c400c400d400d400d400e400e400e400e400e400f400f400f400f400000000000000
-- 014:0460045004400430043004300420042004200420042004200410041004101410241024003400540054006410742094409440a430b420c420d400d400000000000000
-- </SFX>

-- <PATTERNS>
-- 000:60000800000010000010000060000800000060000a00000010000010000060000a000000d0000a000000000000000000f0000a40000cf0000a000000000000000000d0000a000000b0000a000000000000000000d0000a000000f0000a000000000000000000d0000a00000090000a000000000000000000b0000a00000080000a000000000000000000900008000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 001:60000800000010000010000060000800000060000a00000010000010000060000a000000d0000a000000000000000000f0000a40000cf0000a000000000000000000d0000a000000b0000a00000000000000000090000a00000080000a000000000000000000400008000000600018000000000000000000000000000000000000000010000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 002:633606000000b33606000000d33606000000633608000000d33606000000b33606000000633606000000b33606000000d33606000000633608000000d33606000000b33608000000633608000000b33608000000d3360800000063360a000000d33608000000b33608000000f3360800000043360a000000f33608000000d33608000000000000000000b33608000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 003:4000c00000004000d00000004000c01000304000c00000004000d00000005000c01000304000c00000004000d00000306000c01000304000c00000004000d00000007000c01000304000c00000004000d00000008000c01000304000c00000004000d00000009000c01000304000c00000004000d0000000a000c01000204000c00000004000d0000000b000c0100020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 004:0000e00000000000d00000e00000e00000e00000e00000e00000d00000e00000e00000e00000e00000000000e00000e00000e00000e00000e00000000000d00000e00000e00000e00000e00000000000d00000000000e00000e00000e00000000000e00000e00000e00000e00000e00000000000e00000e00000e00000e05302e00000005302e00000005302e0000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 005:f000e00000000000d01000e01000e01000e07000e00000e00000d01000e01000e01000e0f000e00000009000e0a000e09000e01000e07000e00000000000d01000e07000e01000e0f000e00000000000d00000001000e01000e07000e00000001000e01000e01000e01000e0f000e0000000a000e0a000e0a000e01000e07000e00000000000e07000e00000e01000e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 006:60000a00000010000010000060000a000000600008000000900008000000d0000800000040000a00000040000a60000a40000a000000f00008000000d00008000000b00008000000900008000000b00008000000d00008000000b00008000000900008000000800008000000d00008000000900008000000400008000000d00008000000900008000000400008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 007:800008000000600008000000400008000000b00008000000b00006000000400008000000800008000000600008000000400008000000b00008000000b00006000000400008000000900008000000b00008000000d00008000000900008000000800008000000400008000000600008100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- 008:400006000000900006000000b00006000000400008000000b00006000000900006000000400006000000900006000000b00006000000400008000000b00006000000900006000000400006000000900006000000b00006000000400008000000b00006000000900006000000d00006000000900006000000400006000000d00006000000900006000000400006000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
-- </PATTERNS>

-- <TRACKS>
-- 000:1000002000001c00012c00011c00012c00011c00012c05011c06012c06011c06012c06017426018426011c06012c0601ce01ef
-- </TRACKS>

-- <PALETTE>
-- 000:1a1c2c5d275db13e53ef7d57ffcd75a7f07038b76425717929366f3b5dc941a6f673eff7f4f4f494b0c2566c86333c57
-- </PALETTE>

